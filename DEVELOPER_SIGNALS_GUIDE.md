# 📡 دليل نظام الإشارات المرحلي للمطورين

## 🎯 نظرة عامة

تم تطوير نظام إرسال إشارات ذكي ومرن للمطورين يسمح بإرسال إشارات مخصصة للمتابعين مع التحكم الكامل في:
- ✅ رمز العملة (أي زوج تريده)
- ✅ الاتجاه (شراء/بيع)
- ✅ المبلغ
- ✅ نوع السوق (Spot/Futures)
- ✅ الرافعة المالية (للفيوتشر)

## 📝 كيفية إرسال إشارة - نظام مرحلي

### الخطوة 1: بدء الإرسال
1. افتح حساب المطور
2. اضغط على زر "📡 إرسال إشارة"
3. سيبدأ النظام بطلب المعلومات خطوة بخطوة

### الخطوة 2: إدخال رمز العملة
```
📝 الخطوة 1 من 5
🔤 أدخل رمز العملة:

💡 أمثلة:
• BTCUSDT
• BTC
• ETH/USDT
• SOLUSDT
```

**ما يمكنك كتابته:**
- `BTCUSDT` - الصيغة الكاملة
- `BTC` - سيضاف USDT تلقائياً
- `ETH/USDT` - بالشرطة المائلة
- `SOL-USDT` - بالشرطة

### الخطوة 3: اختيار الاتجاه
```
📝 الخطوة 2 من 5
📊 اختر الاتجاه:
```
- 🟢 **شراء (Buy)** - فتح صفقة شراء
- 🔴 **بيع (Sell)** - فتح صفقة بيع

### الخطوة 4: إدخال المبلغ
```
📝 الخطوة 3 من 5
💰 أدخل المبلغ (بالدولار):

مثال: 100
```

**أمثلة:**
- `50` - 50 دولار
- `100` - 100 دولار
- `250.5` - يدعم الكسور العشرية

### الخطوة 5: اختيار نوع السوق
```
📝 الخطوة 4 من 5
🏪 اختر نوع السوق:
```
- 📈 **Spot** - سوق السبوت (بدون رافعة)
- 🚀 **Futures** - سوق الفيوتشر (مع رافعة مالية)

### الخطوة 6: إدخال الرافعة (إذا اخترت Futures)
```
📝 الخطوة 5 من 5
⚡ أدخل الرافعة المالية (1-100):

مثال: 10
```

**ملاحظات:**
- الحد الأدنى: 1x
- الحد الأقصى: 100x
- القيمة الشائعة: 10x أو 20x

### الخطوة 7: التأكيد والإرسال
```
✅ تم تجهيز الإشارة!

📊 الملخص:
💎 الرمز: BTCUSDT
🟢 الاتجاه: BUY
💰 المبلغ: 100
🏪 السوق: FUTURES
⚡ الرافعة: 10x

❓ هل تريد إرسال هذه الإشارة للمتابعين؟
```

- ✅ **نعم، إرسال الآن** - إرسال الإشارة لجميع المتابعين النشطين
- ❌ **إلغاء** - إلغاء الإشارة والعودة للقائمة الرئيسية

## 🎯 ما يحدث عند الإرسال

### للمطور:
```
✅ تم إرسال الإشارة بنجاح!

📊 التفاصيل:
💎 الرمز: BTCUSDT
📊 الاتجاه: BUY
💰 المبلغ: 100
🏪 السوق: FUTURES
⚡ الرافعة: 10x

👥 تم إرسالها إلى 15 متابع
```

### للمتابعين:
سيتلقى كل متابع **نشط**:

1. **إشعار تلجرام:**
```
📡 إشارة جديدة من Nagdat!

🟢 الإجراء: BUY
💎 الرمز: BTCUSDT
💲 السعر: 67500.00
🚀 السوق: FUTURES
💰 المبلغ: 100
⚡ الرافعة: 10x

⚡ تم تنفيذ الصفقة تلقائياً على حسابك!
```

2. **فتح صفقة تلقائية:**
   - ✅ يتم فتح الصفقة على حساب المتابع (تجريبي/حقيقي حسب إعداداته)
   - ✅ يتم استخدام إعدادات الإشارة (market_type, leverage, amount)
   - ✅ يتم تسجيل الصفقة في سجل المتابع
   - ✅ يتم تحديث رصيد المتابع

## 🔧 الميزات الذكية

### 1. التكامل مع إعدادات المتابع
- **نوع الحساب**: يستخدم حساب المتابع (تجريبي أو حقيقي)
- **نوع السوق**: يمكن للإشارة تجاوز إعدادات المتابع
- **الرافعة المالية**: تُطبق رافعة الإشارة على حساب المتابع
- **المبلغ**: يستخدم مبلغ الإشارة

### 2. التحقق من النشاط
- ✅ يتم إرسال الإشارة فقط للمتابعين النشطين
- ⏸️ يتم تخطي المتابعين غير النشطين
- 📊 يتم إرسال تقرير مفصل للمطور عن النجاح/الفشل

### 3. تنوع الأزواج
- يمكنك إرسال إشارة لأي زوج تداول
- لا يوجد قائمة محددة مسبقاً
- النظام يتعامل مع أي رمز تكتبه

### 4. المرونة في الإعدادات
- كل إشارة مستقلة بإعداداتها
- يمكنك تغيير نوع السوق في كل مرة
- يمكنك تحديد رافعة مختلفة لكل إشارة

## 📊 أمثلة عملية

### مثال 1: إشارة شراء Spot
```
الخطوة 1: BTC
الخطوة 2: شراء (Buy)
الخطوة 3: 50
الخطوة 4: Spot
النتيجة: شراء 50$ من BTC على السبوت
```

### مثال 2: إشارة بيع Futures مع رافعة
```
الخطوة 1: ETHUSDT
الخطوة 2: بيع (Sell)
الخطوة 3: 200
الخطوة 4: Futures
الخطوة 5: 20
النتيجة: بيع 200$ من ETH على الفيوتشر برافعة 20x
```

### مثال 3: إشارة لعملة أقل شيوعاً
```
الخطوة 1: SOL
الخطوة 2: شراء (Buy)
الخطوة 3: 75
الخطوة 4: Futures
الخطوة 5: 15
النتيجة: شراء 75$ من SOL على الفيوتشر برافعة 15x
```

## ⚠️ ملاحظات مهمة

### للمطورين:
1. ✅ تأكد من أن لديك صلاحية البث (can_broadcast)
2. ✅ تأكد من أن حسابك نشط (is_active)
3. ✅ تحقق من وجود متابعين قبل الإرسال
4. ⚠️ كن حذراً في اختيار الرافعة المالية (قيم عالية = مخاطر عالية)

### للمتابعين:
1. ✅ تأكد من تفعيل حسابك (إعدادات -> تشغيل البوت)
2. ✅ راجع إعداداتك (نوع الحساب، الرصيد)
3. ⚠️ الصفقات تُفتح تلقائياً - كن مستعداً
4. ⚠️ تأكد من رصيدك الكافي قبل التفعيل

## 🔄 مقارنة بين النظام القديم والجديد

### النظام القديم ❌
- أزواج محددة مسبقاً فقط (BTC, ETH)
- إشارة سريعة بسطر واحد
- لا تحكم في نوع السوق
- لا تحكم في الرافعة المالية
- لا تحكم في المبلغ

### النظام الجديد ✅
- أي زوج تريده
- إدخال مرحلي منظم
- تحكم كامل في نوع السوق
- تحكم كامل في الرافعة المالية
- تحكم كامل في المبلغ
- تأكيد قبل الإرسال
- تقرير مفصل بعد الإرسال

## 🎓 نصائح للاستخدام الأمثل

### 1. اختر الرافعة بحكمة
- للمبتدئين: 5x - 10x
- للمتوسطين: 10x - 20x
- للمحترفين: 20x - 50x
- ⚠️ تجنب الرافعات العالية جداً (>50x)

### 2. راقب السوق
- أرسل الإشارات في أوقات السيولة العالية
- تجنب الإرسال وقت الأخبار الكبرى
- راقب تحركات السعر قبل الإرسال

### 3. اختبر أولاً
- استخدم الحساب التجريبي أولاً
- أرسل إشارات بمبالغ صغيرة في البداية
- راقب نتائج المتابعين

### 4. تواصل مع متابعيك
- أخبرهم بإستراتيجيتك
- اشرح سبب اختيار الإشارات
- قدم تحديثات دورية

## 🚀 خطط مستقبلية

- [ ] إضافة Stop Loss و Take Profit للإشارات
- [ ] جدولة الإشارات لإرسالها في وقت محدد
- [ ] قوالب إشارات جاهزة
- [ ] إحصائيات مفصلة لأداء الإشارات
- [ ] تقييم المتابعين للإشارات

## 📞 الدعم والمساعدة

إذا واجهت أي مشاكل:
1. تأكد من صلاحياتك كمطور
2. تحقق من اتصال البوت
3. راجع سجل الأخطاء
4. اتصل بالدعم الفني

---

**تم التطوير بواسطة:** Nagdat Team  
**التاريخ:** 2025-01-08  
**الإصدار:** v2.0 - نظام الإشارات المرحلي

