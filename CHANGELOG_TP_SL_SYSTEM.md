# ุณุฌู ุงูุชุบููุฑุงุช - ูุธุงู TP/SL/Partial Close

## ุงูุฅุตุฏุงุฑ 2.0.0 - ุฃูุชูุจุฑ 2025

### โจ ููุฒุงุช ุฌุฏูุฏุฉ ุฑุฆูุณูุฉ

#### 1. ูุธุงู Take Profit ุงููุชุนุฏุฏ
- โ ุฅููุงููุฉ ุฅุถุงูุฉ ุฃูุซุฑ ูู Take Profit ููู ุตููุฉ
- โ ุชุญุฏูุฏ TP ุจุงููุณุจุฉ ุงููุฆููุฉ (ูุซุงู: +5%)
- โ ุชุญุฏูุฏ TP ุจุณุนุฑ ูุญุฏุฏ (ูุซุงู: 52,000 USDT)
- โ ุชุญุฏูุฏ ูุณุจุฉ ุฅุบูุงู ุฌุฒุฆู ููู TP
- โ ุฅููุงููุฉ ุชุนุฏูู ุฃู ุญุฐู ุฃู TP

#### 2. ูุธุงู Stop Loss ุงููุชูุฏู
- โ ุชุญุฏูุฏ SL ุจุงููุณุจุฉ ุงููุฆููุฉ (ูุซุงู: -3%)
- โ ุชุญุฏูุฏ SL ุจุณุนุฑ ูุญุฏุฏ (ูุซุงู: 48,000 USDT)
- โ ุฅููุงููุฉ ุชุนุฏูู ุฃู ุญุฐู SL
- โ ุชุญุฐูุฑุงุช ุนูุฏ ุงูุงูุชุฑุงุจ ูู SL

#### 3. ูุธุงู ุงูุฅุบูุงู ุงูุฌุฒุฆู
- โ ุฅุบูุงู ุฌุฒุฆู ุจูุณุจ ูุญุฏุฏุฉ ูุณุจูุงู (25%, 50%, 75%)
- โ ุฅุบูุงู ุฌุฒุฆู ุจูุณุจุฉ ูุฎุตุตุฉ (1%-99%)
- โ ุชุชุจุน ุฌููุน ุงูุฅุบูุงูุงุช ุงูุฌุฒุฆูุฉ
- โ ุญุณุงุจ ุงูุฑุจุญ/ุงูุฎุณุงุฑุฉ ุงููุญููุฉ ูุบูุฑ ุงููุญููุฉ

#### 4. ูุงุฌูุฉ ุชูููุฌุฑุงู ุงููุญุณููุฉ
- โ ุฃุฒุฑุงุฑ ุชูุงุนููุฉ ูุฅุฏุงุฑุฉ TP/SL
- โ ูุนูููุงุช ููุตูุฉ ููู ุตููุฉ
- โ ูุคุดุฑุงุช ุจุตุฑูุฉ ูุงุถุญุฉ ููุฑุจุญ/ุงูุฎุณุงุฑุฉ
- โ ุชุญุฏูุซุงุช ููุฑูุฉ ุนูุฏ ุชูุนูู ุงูุฃูุฏุงู

### ๐ ุงููููุงุช ุงูุฌุฏูุฏุฉ

#### `position_manager.py`
- **ุงูุญุฌู**: ~600 ุณุทุฑ
- **ุงููุธููุฉ**: ุฅุฏุงุฑุฉ ุงูุตููุงุช ุงููุชูุฏูุฉ
- **ุงููุฆุงุช**:
  - `PositionTarget`: ุชูุซูู ูุฏู TP/SL
  - `ManagedPosition`: ุตููุฉ ูุฏุงุฑุฉ ูุงููุฉ
  - `PositionManager`: ูุฏูุฑ ุนุงู ููุตููุงุช

#### `README_TP_SL_PARTIAL_CLOSE.md`
- **ุงูุญุฌู**: ~800 ุณุทุฑ
- **ุงููุธููุฉ**: ุฏููู ุดุงูู ูููุธุงู
- **ุงููุญุชูู**:
  - ูุธุฑุฉ ุนุงูุฉ
  - ููููุฉ ุงูุงุณุชุฎุฏุงู
  - ุงูุจููุฉ ุงููุนูุงุฑูุฉ
  - ุงูุฃูุงู ูุงูุนุฒู
  - ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ

#### `USAGE_EXAMPLES_TP_SL.md`
- **ุงูุญุฌู**: ~700 ุณุทุฑ
- **ุงููุธููุฉ**: ุฃูุซูุฉ ุนูููุฉ ููุตูุฉ
- **ุงููุญุชูู**:
  - 5 ุงุณุชุฑุงุชูุฌูุงุช ุชุฏุงูู ูุงููุฉ
  - ุญุณุงุจุงุช ุชูุตูููุฉ
  - ุณููุงุฑูููุงุช ูุชุนุฏุฏุฉ
  - ููุงุฑูุงุช ููุตุงุฆุญ

### ๐ ุงููููุงุช ุงููุญุฏูุซุฉ

#### `database.py`
**ุงูุชุบููุฑุงุช**:
- โ ุฅุถุงูุฉ ุญููู ุฌุฏูุฏุฉ ูุฌุฏูู `orders`:
  - `initial_quantity`: ุงููููุฉ ุงูุฃูููุฉ
  - `current_quantity`: ุงููููุฉ ุงูุญุงููุฉ
  - `take_profits`: ูุงุฆูุฉ ุฃูุฏุงู TP (JSON)
  - `stop_loss`: ูุฏู SL (JSON)
  - `partial_closes`: ุณุฌู ุงูุฅุบูุงูุงุช ุงูุฌุฒุฆูุฉ (JSON)
  - `market_type`: ููุน ุงูุณูู
  - `leverage`: ุงูุฑุงูุนุฉ ุงููุงููุฉ
  - `unrealized_pnl`: ุงูุฑุจุญ/ุงูุฎุณุงุฑุฉ ุบูุฑ ุงููุญููุฉ
  - `realized_pnl`: ุงูุฑุจุญ/ุงูุฎุณุงุฑุฉ ุงููุญููุฉ

- โ ุชุญุฏูุซ ุงูุฏูุงู:
  - `create_order()`: ุฏุนู ุงูุญููู ุงูุฌุฏูุฏุฉ
  - `get_user_orders()`: ูุนุงูุฌุฉ ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ
  - `get_order()`: ุฏุนู ุงูุญููู ุงูุฌุฏูุฏุฉ
  - `update_order()`: ูุนุงูุฌุฉ TP/SL

- โ ุงูุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ

#### `bybit_trading_bot.py`
**ุงูุชุบููุฑุงุช**:
- โ ุฅุถุงูุฉ ุงุณุชูุฑุงุฏ `position_manager`
- โ ุฅุถุงูุฉ ูุธุงุฆู ุฌุฏูุฏุฉ:
  - `manage_take_profit()`: ูุงุฌูุฉ ุฅุฏุงุฑุฉ TP
  - `manage_stop_loss()`: ูุงุฌูุฉ ุฅุฏุงุฑุฉ SL
  - `manage_partial_close()`: ูุงุฌูุฉ ุงูุฅุบูุงู ุงูุฌุฒุฆู
  - `execute_partial_close_percentage()`: ุชูููุฐ ุงูุฅุบูุงู

- โ ุชุญุฏูุซ ุงููุธุงุฆู ุงูููุฌูุฏุฉ:
  - `send_spot_positions_message()`: ุฅุถุงูุฉ ุฃุฒุฑุงุฑ TP/SL/Partial
  - `send_futures_positions_message()`: ุฅุถุงูุฉ ุฃุฒุฑุงุฑ TP/SL/Partial
  - `handle_callback()`: ูุนุงูุฌุฉ ุงูุฃุญุฏุงุซ ุงูุฌุฏูุฏุฉ
  - `handle_text_input()`: ูุนุงูุฌุฉ ุงูุฅุฏุฎุงูุงุช ุงูุฌุฏูุฏุฉ

- โ ุชุญุณููุงุช UI:
  - ูุคุดุฑุงุช ุจุตุฑูุฉ ููุฑุจุญ/ุงูุฎุณุงุฑุฉ
  - ุฃุฒุฑุงุฑ ููุธูุฉ ููู ุตููุฉ
  - ุฑุณุงุฆู ูุงุถุญุฉ ูุดุงููุฉ

#### `user_manager.py`
**ุงูุชุบููุฑุงุช**:
- โ ุฏุนู ูุงูู ููุตููุงุช ุงููุชูุฏูุฉ
- โ ุงูุนุฒู ุงูุชุงู ุจูู ุงููุณุชุฎุฏููู
- โ ุชูุงูู ูุน `position_manager`

### ๐ ุงูุฃูุงู ูุงูุนุฒู

#### ุงูุนุฒู ุจูู ุงููุณุชุฎุฏููู
- โ ูู ูุณุชุฎุฏู ูู `user_id` ูุฑูุฏ
- โ ุฌููุน ุงูุตููุงุช ูุฑุชุจุทุฉ ุจู `user_id`
- โ ูุง ูููู ูุฃู ูุณุชุฎุฏู ุงููุตูู ุฅูู ุตููุงุช ุงูุขุฎุฑูู
- โ ุงูุชุญูู ูู `user_id` ูู ูู ุนูููุฉ

#### ุญูุงูุฉ ุงูุจูุงูุงุช
- โ ุชุดููุฑ API Keys
- โ ูุตู ุชุงู ููุจูุงูุงุช
- โ ุณุฌูุงุช ูููุตูุฉ ููู ูุณุชุฎุฏู
- โ ุนุฏู ูุฌูุฏ ุชุฏุงุฎู ูู ุงูุตููุงุช

### ๐ ุงูุฅุญุตุงุฆูุงุช

**ุงูููุฏ ุงููุถุงู**:
- ูููุงุช ุฌุฏูุฏุฉ: 3
- ูููุงุช ูุญุฏูุซุฉ: 3
- ุฃุณุทุฑ ููุฏ ุฌุฏูุฏุฉ: ~2,000
- ุฃุณุทุฑ ุชูุซูู: ~1,500
- ุฏูุงู ุฌุฏูุฏุฉ: 12+
- ูุฆุงุช ุฌุฏูุฏุฉ: 3

**ุงูููุฒุงุช**:
- ููุฒุงุช ุฑุฆูุณูุฉ: 4
- ููุฒุงุช ูุฑุนูุฉ: 15+
- ุฃุฒุฑุงุฑ ุชูุงุนููุฉ ุฌุฏูุฏุฉ: 10+
- ูุนุงูุฌุงุช ุฃุญุฏุงุซ ุฌุฏูุฏุฉ: 15+

### ๐ฏ ุงูุชูุงูู

#### ุงูุชูุงูู ูุน ุงูููููุงุช ุงูููุฌูุฏุฉ
- โ `TradingAccount`: ุชูุงูู ูุงูู
- โ `BybitAPI`: ุชูุงูู ุณูุณ
- โ `database`: ุฏุนู ูุงูู ููุญููู ุงูุฌุฏูุฏุฉ
- โ `user_manager`: ุนุฒู ุชุงู ุจูู ุงููุณุชุฎุฏููู
- โ ูุงุฌูุฉ ุงูุชูููุฌุฑุงู: ุชุญุฏูุซุงุช ูุจุงุดุฑุฉ

#### API ุงููุชูุงููุฉ
- โ Bybit API v5
- โ Python Telegram Bot v20+
- โ SQLite 3

### ๐งช ุงูุงุฎุชุจุงุฑุงุช

#### ุงูุชูุงูู
- โ ุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ
- โ ุฏุนู ุงูุญููู ุงููุฏููุฉ (`tps`, `sl`, `partial_close`)
- โ ุชุญููู ุชููุงุฆู ููุจูุงูุงุช ุงููุฏููุฉ

#### ุงูุณููุงุฑูููุงุช ุงููุฎุชุจุฑุฉ
- โ ุฅุถุงูุฉ TP/SL ูุชุนุฏุฏ
- โ ุชุญุฏูุซ ูุญุฐู ุงูุฃูุฏุงู
- โ ุงูุฅุบูุงู ุงูุฌุฒุฆู ุจูุณุจ ูุฎุชููุฉ
- โ ุงูุนุฒู ุจูู ุงููุณุชุฎุฏููู
- โ ุชุญุฏูุซุงุช ุงูุฃุณุนุงุฑ ุงููุจุงุดุฑุฉ

### ๐ ุงูุชูุซูู

#### ุงูุฃุฏูุฉ ุงูุดุงููุฉ
1. **README_TP_SL_PARTIAL_CLOSE.md**
   - ุฏููู ุดุงูู ูููุธุงู
   - ููููุฉ ุงูุงุณุชุฎุฏุงู
   - ุงูุจููุฉ ุงููุนูุงุฑูุฉ
   - ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ

2. **USAGE_EXAMPLES_TP_SL.md**
   - 5 ุงุณุชุฑุงุชูุฌูุงุช ุชุฏุงูู ูุงููุฉ
   - ุฃูุซูุฉ ุนูููุฉ ููุตูุฉ
   - ุญุณุงุจุงุช ุชูุตูููุฉ
   - ูุตุงุฆุญ ูุฅุฑุดุงุฏุงุช

3. **CHANGELOG_TP_SL_SYSTEM.md**
   - ุณุฌู ุงูุชุบููุฑุงุช
   - ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ
   - ุงูุชุญุฏูุซุงุช
   - ุงูุฅุญุตุงุฆูุงุช

### ๐ ุงูุฃุฏุงุก

#### ุงูุชุญุณููุงุช
- โ ุงุณุชุฌุงุจุฉ ุณุฑูุนุฉ ููุฃุฒุฑุงุฑ
- โ ุชุญุฏูุซุงุช ููุฑูุฉ ููุฃุณุนุงุฑ
- โ ูุนุงูุฌุฉ ูุนุงูุฉ ููุจูุงูุงุช
- โ ุงุณุชุฎุฏุงู ุฐุงูุฑุฉ ูุญุณูู

#### ุงููุงุจููุฉ ููุชูุณุน
- โ ุฏุนู ุนุฏุฏ ุบูุฑ ูุญุฏูุฏ ูู ุงููุณุชุฎุฏููู
- โ ุฏุนู ุนุฏุฏ ุบูุฑ ูุญุฏูุฏ ูู ุงูุตููุงุช
- โ ุฏุนู ุนุฏุฏ ุบูุฑ ูุญุฏูุฏ ูู TP
- โ ูุนุงูุฌุฉ ูุชุฒุงููุฉ ููุทูุจุงุช

### ๐ ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ

#### ูุฎุทุท ููุง (v2.1.0)
- [ ] Trailing Stop Loss ุงูุชููุงุฆู
- [ ] ุฅุดุนุงุฑุงุช ูุชูุฏูุฉ
- [ ] ุฑุณูู ุจูุงููุฉ ููุตููุงุช
- [ ] ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ (PDF/Excel)
- [ ] Templates ููุงุณุชุฑุงุชูุฌูุงุช

#### ุชุญุช ุงูุฏุฑุงุณุฉ (v2.2.0)
- [ ] ุชูุงูู ูุน TradingView
- [ ] Auto TP/SL ุจูุงุกู ุนูู ุงูุชุญููู ุงูููู
- [ ] ูุณุฎ ุงูุตููุงุช (Copy Trading)
- [ ] ุฅุดุงุฑุงุช AI ููุฏุฎูู ูุงูุฎุฑูุฌ
- [ ] ุชุทุจูู ููุจุงูู ูุฎุตุต

### ๐ ุงูุฅุตูุงุญุงุช

#### ูุดุงูู ุชู ุญููุง
- โ ุฅุตูุงุญ ุฎุทุฃ ูู ุญุณุงุจ ุงูุฅุบูุงูุงุช ุงูุฌุฒุฆูุฉ
- โ ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- โ ุฅุตูุงุญ ูุดุงูู ุงูุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ
- โ ุชุญุณูู ุฑุณุงุฆู ุงูุฎุทุฃ

### โ๏ธ ููุงุญุธุงุช ูุงูุฉ

#### ููุชุฑููุฉ ูู v1.x ุฅูู v2.0
1. ุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. ุชุดุบูู ุงูุจูุช ูุฑุฉ ูุงุญุฏุฉ ูุชุญุฏูุซ ุงูุฌุฏุงูู
3. ูุฑุงุฌุนุฉ ุงูุตููุงุช ุงูููุชูุญุฉ
4. ุงุฎุชุจุงุฑ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ ุนูู ุญุณุงุจ ุชุฌุฑูุจู

#### ูุชุทูุจุงุช ุงููุธุงู
- Python 3.8+
- python-telegram-bot 20.0+
- SQLite 3
- requests
- ุงุชุตุงู ุฅูุชุฑูุช ูุณุชูุฑ

### ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงูู:
1. ุฑุงุฌุน `README_TP_SL_PARTIAL_CLOSE.md`
2. ุฑุงุฌุน `USAGE_EXAMPLES_TP_SL.md`
3. ุชุญูู ูู `trading_bot.log`
4. ุฑุงุฌุน `context.json`

### ๐ ุงูุฎูุงุตุฉ

**ุงูุฅุตุฏุงุฑ 2.0.0** ูุฌูุจ ูุธุงู ุฅุฏุงุฑุฉ ุตููุงุช ูุชูุฏู ููุชูุงูู:
- โ **Take Profit ูุชุนุฏุฏ** ุจูุฑููุฉ ูุงููุฉ
- โ **Stop Loss ูุชูุฏู** ุจุฎูุงุฑุงุช ูุชุนุฏุฏุฉ
- โ **ุฅุบูุงู ุฌุฒุฆู** ูุฑู ูุขูู
- โ **ุนุฒู ุชุงู** ุจูู ุงููุณุชุฎุฏููู
- โ **ูุงุฌูุฉ ุณููุฉ** ูุจุฏูููุฉ
- โ **ุชูุซูู ุดุงูู** ูุฃูุซูุฉ ุนูููุฉ

---

**ุชุงุฑูุฎ ุงูุฅุตุฏุงุฑ**: ุฃูุชูุจุฑ 2025  
**ุงูุญุงูุฉ**: ูุณุชูุฑ โ  
**ุงูุชูุงูู**: v1.x โ  
**ุงูุชุฑุฎูุต**: ููุณ ุชุฑุฎูุต ุงููุดุฑูุน ุงูุฃุณุงุณู

---

## ุดูุฑ ุฎุงุต

ุดูุฑุงู ูุฌููุน ุงููุณุชุฎุฏููู ุนูู ููุงุญุธุงุชูู ูุงูุชุฑุงุญุงุชูู ุงูุชู ุณุงุนุฏุช ูู ุชุทููุฑ ูุฐุง ุงููุธุงู ุงููุชูุฏู! ๐

**ุงุณุชูุชุน ุจุชุฏุงูู ุขูู ููุฑุจุญ!** ๐๐๐ฐ
