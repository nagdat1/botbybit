# ๐ ุฏููู ุงุณุชุฎุฏุงู Webhook ููุฅุดุงุฑุงุช

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุฏููู ูุดุฑุญ ููููุฉ ุฑุจุท TradingView ุฃู ุฃู ููุตุฉ ุฅุดุงุฑุงุช ูุน ุงูุจูุช ุจุงุณุชุฎุฏุงู Webhook.

---

## ๐ฏ ูุง ูู Webhookุ

**Webhook** ูู ุฑุงุจุท URL ุฎุงุต ูุณุชูุจู ุงูุฅุดุงุฑุงุช ูู ุงูููุตุงุช ุงูุฎุงุฑุฌูุฉ (ูุซู TradingView) ููุฑุณููุง ูุจุงุดุฑุฉ ููุจูุช ูุชูููุฐูุง ุชููุงุฆูุงู.

### ุงููููุฒุงุช:
- โ ุชูููุฐ ุชููุงุฆู ููุฅุดุงุฑุงุช
- โ ุณุฑุนุฉ ุนุงููุฉ (ุฃูู ูู ุซุงููุฉ)
- โ ุขูู ููุดูุฑ
- โ ูุฎุตุต ููู ูุณุชุฎุฏู

---

## ๐ ุงูุญุตูู ุนูู ุฑุงุจุท Webhook

### ูู ุงูุจูุช:
1. ุงูุชุญ ุงูุจูุช ูู Telegram
2. ุงุถุบุท ุนูู "๐ ุฑุงุจุท ุงูุฅุดุงุฑุงุช"
3. ุงูุณุฎ ุงูุฑุงุจุท ุงูุดุฎุตู ุงูุฎุงุต ุจู

### ุดูู ุงูุฑุงุจุท:
```
https://your-domain.com/personal/YOUR_USER_ID/webhook
```

---

## ๐ฑ ุงูุฅุนุฏุงุฏ ูู TradingView

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก Alert

1. ุงูุชุญ ุงูุดุงุฑุช ูู TradingView
2. ุงุถุบุท ุนูู ุฒุฑ "Alert" (๐) ูู ุงูุฃุนูู
3. ุฃู ุงุถุบุท ุนูู `Alt+A`

### ุงูุฎุทูุฉ 2: ุฅุนุฏุงุฏ ุงูุดุฑูุท

1. ุงุฎุชุฑ ุงูุดุฑุท ุงูููุงุณุจ ูุงุณุชุฑุงุชูุฌูุชู:
   - Price crossing
   - Indicator condition
   - Strategy order fills
   - ุฃู ุฃู ุดุฑุท ุขุฎุฑ

### ุงูุฎุทูุฉ 3: ุฅุถุงูุฉ Webhook

1. ูู ูุณู "Notifications"
2. ุถุน ุนูุงูุฉ โ ุนูู "Webhook URL"
3. ุงูุตู ุฑุงุจุท Webhook ุงูุฎุงุต ุจู

### ุงูุฎุทูุฉ 4: ูุชุงุจุฉ ุฑุณุงูุฉ ุงูุฅุดุงุฑุฉ

ูู ุญูู "Alert message"ุ ุงุณุชุฎุฏู ุตูุบุฉ JSON:

---

## ๐ ุตูุบุฉ ุงูุฅุดุงุฑุงุช

### ุงูุตูุบุฉ ุงูุฃุณุงุณูุฉ

```json
{
  "signal": "ููุน_ุงูุฅุดุงุฑุฉ",
  "symbol": "ุฑูุฒ_ุงูุนููุฉ",
  "id": "ูุนุฑู_ูุฑูุฏ"
}
```

### ุฃูุซูุฉ ุนูููุฉ

#### 1. ุฅุดุงุฑุฉ ุดุฑุงุก (Buy)
```json
{
  "signal": "buy",
  "symbol": "BTCUSDT",
  "id": "STRATEGY_BUY_001"
}
```

#### 2. ุฅุดุงุฑุฉ ุจูุน (Sell)
```json
{
  "signal": "sell",
  "symbol": "ETHUSDT",
  "id": "STRATEGY_SELL_001"
}
```

#### 3. ุฅุดุงุฑุฉ ุฅุบูุงู ูุงูู
```json
{
  "signal": "close",
  "symbol": "BTCUSDT",
  "id": "STRATEGY_CLOSE_001"
}
```

#### 4. ุฅุดุงุฑุฉ ุฅุบูุงู ุฌุฒุฆู (50%)
```json
{
  "signal": "partial_close",
  "symbol": "BTCUSDT",
  "percentage": 50,
  "id": "STRATEGY_PC_001"
}
```

#### 5. ุฅุดุงุฑุฉ Long (Futures)
```json
{
  "signal": "long",
  "symbol": "BTCUSDT",
  "id": "STRATEGY_LONG_001"
}
```

#### 6. ุฅุดุงุฑุฉ Short (Futures)
```json
{
  "signal": "short",
  "symbol": "ETHUSDT",
  "id": "STRATEGY_SHORT_001"
}
```

---

## ๐ค ุฃููุงุน ุงูุฅุดุงุฑุงุช ุงููุฏุนููุฉ

| ุงูุฅุดุงุฑุฉ | ุงููุตู | ุงูุณูู |
|---------|-------|-------|
| `buy` | ูุชุญ ุตููุฉ ุดุฑุงุก | Spot/Futures |
| `sell` | ูุชุญ ุตููุฉ ุจูุน | Spot/Futures |
| `long` | ูุชุญ ุตููุฉ ุดุฑุงุก | Futures |
| `short` | ูุชุญ ุตููุฉ ุจูุน | Futures |
| `close` | ุฅุบูุงู ุงูุตููุฉ ุจุงููุงูู | Spot/Futures |
| `partial_close` | ุฅุบูุงู ุฌุฒุฆู (ูุน percentage) | Spot/Futures |

---

## ๐ฒ ุงุณุชุฎุฏุงู ุงููุชุบูุฑุงุช ูู TradingView

ููููู ุงุณุชุฎุฏุงู ูุชุบูุฑุงุช TradingView ุงูุฏููุงููููุฉ:

```json
{
  "signal": "buy",
  "symbol": "{{ticker}}",
  "price": "{{close}}",
  "id": "STRATEGY_{{time}}"
}
```

### ุงููุชุบูุฑุงุช ุงููุชุงุญุฉ:
- `{{ticker}}` - ุฑูุฒ ุงูุนููุฉ ุงูุญุงูู
- `{{close}}` - ุณุนุฑ ุงูุฅุบูุงู
- `{{open}}` - ุณุนุฑ ุงูุงูุชุชุงุญ
- `{{high}}` - ุฃุนูู ุณุนุฑ
- `{{low}}` - ุฃุฏูู ุณุนุฑ
- `{{time}}` - ุงูููุช ุงูุญุงูู
- `{{exchange}}` - ุงูููุตุฉ

---

## ๐ ุฃูููุฉ ูุนุฑู ID

### ููุงุฐุง ูุณุชุฎุฏู IDุ

ูุนุฑู `id` ูุฑุจุท ุนุฏุฉ ุฅุดุงุฑุงุช ูุนุงู ููุตููุฉ ุงููุงุญุฏุฉ:

```json
// ูุชุญ ุตููุฉ
{"signal": "buy", "symbol": "BTCUSDT", "id": "STRAT_001"}

// ุฅุถุงูุฉ ูููุณ ุงูุตููุฉ
{"signal": "buy", "symbol": "BTCUSDT", "id": "STRAT_001"}

// ุฅุบูุงู ุฌุฒุฆู ูููุณ ุงูุตููุฉ
{"signal": "partial_close", "symbol": "BTCUSDT", "percentage": 50, "id": "STRAT_001"}

// ุฅุบูุงู ูุงูู ูููุณ ุงูุตููุฉ
{"signal": "close", "symbol": "BTCUSDT", "id": "STRAT_001"}
```

### ุจุฏูู ID:
ูู ุฅุดุงุฑุฉ ุชูุนุชุจุฑ ุตููุฉ ูููุตูุฉ.

---

## โ๏ธ ุงูุฅุนุฏุงุฏุงุช ุงูุชููุงุฆูุฉ

ุนูุฏ ุงุณุชูุจุงู ุงูุฅุดุงุฑุฉุ ูุณุชุฎุฏู ุงูุจูุช ุฅุนุฏุงุฏุงุชู ุชููุงุฆูุงู:

### ุงููุจูุบ:
ููุญุฏุฏ ูู ุฅุนุฏุงุฏุงุช "๐ฐ ูุจูุบ ุงูุชุฏุงูู"

### ููุน ุงูุณูู:
ููุญุฏุฏ ูู "๐ช ููุน ุงูุณูู" (Spot/Futures)

### ุงูุฑุงูุนุฉ ุงููุงููุฉ:
ุชูุทุจู ุชููุงุฆูุงู ููู Futures

### ููุน ุงูุญุณุงุจ:
Demo ุฃู Real ุญุณุจ ุฅุนุฏุงุฏุงุชู

---

## ๐ ุงุฎุชุจุงุฑ ุงูุฅุดุงุฑุงุช

### ุงุฎุชุจุงุฑ ูุฏูู

ุงุณุชุฎุฏู `curl` ุฃู Postman:

```bash
curl -X POST https://your-domain.com/personal/YOUR_USER_ID/webhook \
  -H "Content-Type: application/json" \
  -d '{
    "signal": "buy",
    "symbol": "BTCUSDT",
    "id": "TEST_001"
  }'
```

### ุงูุชุญูู ูู ุงูุงุณุชุฌุงุจุฉ

**ูุฌุงุญ:**
```json
{
  "status": "success",
  "message": "Signal processing started for user YOUR_USER_ID",
  "user_id": YOUR_USER_ID
}
```

**ูุดู:**
```json
{
  "status": "error",
  "message": "ูุตู ุงูุฎุทุฃ"
}
```

---

## โ๏ธ ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ ูุญููููุง

### 1. "User not found"
**ุงูุณุจุจ:** ุงููุณุชุฎุฏู ุบูุฑ ูุณุฌู ูู ุงูุจูุช  
**ุงูุญู:** ุฃุฑุณู `/start` ูู ุงูุจูุช ุฃููุงู

### 2. "User not active"
**ุงูุณุจุจ:** ุงูุจูุช ูุชููู  
**ุงูุญู:** ูุนูู ุงูุจูุช ูู "โถ๏ธ/โน๏ธ ุชุดุบูู/ุฅููุงู ุงูุจูุช"

### 3. "No data received"
**ุงูุณุจุจ:** ุตูุบุฉ JSON ุฎุงุทุฆุฉ  
**ุงูุญู:** ุชุฃูุฏ ูู ุตุญุฉ ุตูุบุฉ JSON (ุงุณุชุฎุฏู JSON validator)

### 4. "Invalid signal type"
**ุงูุณุจุจ:** ููุน ุฅุดุงุฑุฉ ุบูุฑ ูุฏุนูู  
**ุงูุญู:** ุงุณุชุฎุฏู ุฃุญุฏ ุงูุฃููุงุน ุงููุฏุนููุฉ (buy, sell, close, ...)

### 5. ุงูุฅุดุงุฑุฉ ูุง ุชุตู
**ุงูุญููู:**
- ุชุญูู ูู ุฑุงุจุท Webhook
- ุชุฃูุฏ ูู ุชูุนูู ุงูุจูุช
- ุฑุงุฌุน ุณุฌูุงุช TradingView
- ุงุฎุชุจุฑ ุงูุฑุงุจุท ูุฏููุงู

---

## ๐ ุงูุฃูุงู

### ูุตุงุฆุญ ุงูุฃูุงู:

1. **ูุง ุชุดุงุฑู ุฑุงุจุท Webhook**
   - ุงูุฑุงุจุท ุฎุงุต ุจู ููุท
   - ุฃู ุดุฎุต ูุฏูู ุงูุฑุงุจุท ููููู ุฅุฑุณุงู ุฅุดุงุฑุงุช

2. **ุงุณุชุฎุฏู HTTPS**
   - ุชุฃูุฏ ุฃู ุงูุฑุงุจุท ูุจุฏุฃ ุจู `https://`
   - ููุญูุงูุฉ ูู ุงูุชูุตุช

3. **ุฑุงูุจ ุงููุดุงุท**
   - ุฑุงุฌุน ุงูุตููุงุช ุจุงูุชุธุงู
   - ุชุญูู ูู ุงูุณุฌูุงุช (`trading_bot.log`)

4. **ุงุจุฏุฃ ุจุงูุญุณุงุจ ุงูุชุฌุฑูุจู**
   - ุงุฎุชุจุฑ ุงูุฅุดุงุฑุงุช ุฃููุงู
   - ุชุฃูุฏ ูู ุตุญุฉ ุงูุชูููุฐ
   - ุซู ุงูุชูู ููุญุณุงุจ ุงูุญูููู

---

## ๐ ูุซุงู ุงุณุชุฑุงุชูุฌูุฉ ูุงููุฉ

### ูู TradingView:

```javascript
//@version=5
strategy("My Strategy", overlay=true)

// ุดุฑูุท ุงูุฏุฎูู
longCondition = ta.crossover(ta.sma(close, 10), ta.sma(close, 20))
shortCondition = ta.crossunder(ta.sma(close, 10), ta.sma(close, 20))

// ุชูููุฐ
if (longCondition)
    strategy.entry("Long", strategy.long, alert_message='{"signal":"buy","symbol":"BTCUSDT","id":"STRAT_MAIN"}')

if (shortCondition)
    strategy.entry("Short", strategy.short, alert_message='{"signal":"sell","symbol":"BTCUSDT","id":"STRAT_MAIN"}')

// ุฅุบูุงู ุนูุฏ ุงูุฑุจุญ
if (strategy.position_size > 0 and close > strategy.position_avg_price * 1.02)
    strategy.close("Long", alert_message='{"signal":"close","symbol":"BTCUSDT","id":"STRAT_MAIN"}')
```

---

## ๐ ูุตุงุฆุญ ูุชูุฏูุฉ

### 1. ุงุณุชุฎุฏุงู ุฅุดุงุฑุงุช ูุชุนุฏุฏุฉ
```json
// ุฅุดุงุฑุฉ 1: ูุชุญ ุตููุฉ
{"signal": "buy", "symbol": "BTCUSDT", "id": "MAIN"}

// ุฅุดุงุฑุฉ 2: ุฅุถุงูุฉ ููุตููุฉ (DCA)
{"signal": "buy", "symbol": "BTCUSDT", "id": "MAIN"}

// ุฅุดุงุฑุฉ 3: ุฅุบูุงู ุฌุฒุฆู ุนูุฏ ูุฏู
{"signal": "partial_close", "symbol": "BTCUSDT", "percentage": 50, "id": "MAIN"}
```

### 2. ุตููุงุช ูููุตูุฉ
ุงุณุชุฎุฏู IDs ูุฎุชููุฉ:
```json
{"signal": "buy", "symbol": "BTCUSDT", "id": "STRATEGY_A"}
{"signal": "buy", "symbol": "ETHUSDT", "id": "STRATEGY_B"}
```

### 3. ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ
- ุญุฏุฏ Stop Loss ูู ุฅุนุฏุงุฏุงุช ุงูุจูุช
- ุงุณุชุฎุฏู ุฅุบูุงู ุฌุฒุฆู ููุชุฃููู
- ุฑุงูุจ ุงูุฎุณุงุฆุฑ ุงูููููุฉ

---

## ๐ ุงูุฏุนู

### ูู ุญุงูุฉ ูุฌูุฏ ูุดุงูู:

1. ุฑุงุฌุน `trading_bot.log` ููุฃุฎุทุงุก
2. ุงุฎุชุจุฑ ุงูุฑุงุจุท ูุฏููุงู
3. ุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช
4. ุงุณุชุฎุฏู `/help` ูู ุงูุจูุช

---

## โ ููุงุท ุงูุชุญูู ุงูููุงุฆูุฉ

ูุจู ุงูุจุฏุกุ ุชุฃูุฏ ูู:

- [ ] ุชู ูุณุฎ ุฑุงุจุท Webhook ุงูุตุญูุญ
- [ ] ุชู ุฅุถุงูุฉ ุงูุฑุงุจุท ูู TradingView
- [ ] ุตูุบุฉ JSON ุตุญูุญุฉ
- [ ] ุงูุจูุช ููุนูู (โถ๏ธ)
- [ ] ุชู ุงุฎุชุจุงุฑ ุฅุดุงุฑุฉ ุชุฌุฑูุจูุฉ
- [ ] ุงูุฅุนุฏุงุฏุงุช ุตุญูุญุฉ (ุงููุจูุบุ ุงูุณููุ ุงูุญุณุงุจ)
- [ ] ุชู ุชูุนูู Stop Loss (ููุตู ุจู)

---

**๐ ุงูุขู ุฃูุช ุฌุงูุฒ ููุชุฏุงูู ุงูุขูู!**

**ููุงุญุธุฉ ุฃุฎูุฑุฉ:** ุงุจุฏุฃ ุฏุงุฆูุงู ุจูุจุงูุบ ุตุบูุฑุฉ ูุงูุญุณุงุจ ุงูุชุฌุฑูุจู.

---

**ุขุฎุฑ ุชุญุฏูุซ**: 2025-10-28  
**ุงูุฅุตุฏุงุฑ**: 3.0.0

