{
  "context_name": "MEXC_Execution_Logic",
  "version": "1.0",
  "description": "ุณูุงู ุจุฑูุฌู ุชุนูููู ููููู ุฃููุงุฏ ุฐูู (Agent) ูุดุฑุญ ุทุฑููุฉ ุชูููุฐ ูุชุฑุชูุจ ุงููุนุงููุงุช ุจุฏูุฉ ุนูู ููุตุฉ MEXC.",
  "purpose": "ุชูููู ุงููููู ุงูุจุฑูุฌู ูู ููู ุฎุทูุงุช ุชูููุฐ ุงูุฃูุงูุฑ ุนูู MEXC ุจุฏูุฉ ุนุงููุฉุ ูุน ุงุญุชุฑุงู ุงููููุฏุ ูุถูุงู ุงูุฏูุฉุ ูุชูููู ุงูุงูุฒูุงู.",
  "author": "Dr Nagdat Bsheer",
  "language": "ar",
  "use_case": "Order Execution, Smart Trading Bot, Crypto Exchange Integration",
  "sections": {
    "1_initialization": {
      "goal": "ุฅุนุฏุงุฏ ุงูุงุชุตุงู ูุน ูุงุฌูุงุช MEXC REST ู WebSocket.",
      "steps": [
        "ุชุฎุฒูู ููุงุชูุญ API_KEY ู API_SECRET ุจุฃูุงู.",
        "ุงุณุชุฎุฏุงู REST base URL: https://api.mexc.com",
        "ุฅูุดุงุก listenKey ุนุจุฑ /api/v3/userDataStream ููุชุงุจุนุฉ ุงูุญุณุงุจ ุงูุญู.",
        "ุชุฌุฏูุฏ listenKey ูู 30-50 ุฏูููุฉ ููุญูุงุธ ุนูู ุงูุงุชุตุงู.",
        "ุจุฏุก ุงุชุตุงู WebSocket ุจุงุณุชุฎุฏุงู listenKey ูุชููู ุชุญุฏูุซุงุช ุงูุฃูุงูุฑ ูุงูุญุณุงุจ."
      ]
    },
    "2_market_data": {
      "goal": "ุฌูุน ุจูุงูุงุช ุงูุณูู ุงูุญูุฉ ูุชุญุฏูุฏ ุงูุณุนุฑ ุงูููุงุณุจ ููุชูููุฐ.",
      "sources": [
        "WebSocket stream: diff.depth ูุนูู ุงูุณูู.",
        "REST endpoint: /api/v3/depth ููุณุฎุฉ ุงุญุชูุงุทูุฉ."
      ],
      "data_points": [
        "mid_price",
        "best_bid / best_ask",
        "volume",
        "orderbook liquidity"
      ]
    },
    "3_execution_strategy": {
      "goal": "ุชุญุฏูุฏ ููุท ุงูุชูููุฐ ุงูููุงุณุจ ููุฃูุฑ (Market / Limit / TWAP).",
      "modes": {
        "market": "ุชูููุฐ ููุฑู ุญุณุจ ุณุนุฑ ุงูุณูู (ุฃุณุฑุนุ ููู ุฃูุซุฑ ุงูุฒูุงููุง).",
        "limit": "ุชูููุฐ ุจุณุนุฑ ูุญุฏุฏ ูุถุจุท ุงูุชูููุฉ.",
        "twap": "ุชูุณูู ุงูุฃูุฑ ุฅูู ุดุฑุงุฆุญ ุฒูููุฉ ูุชูููู ุงูุฃุซุฑ ุงูุณุนุฑู."
      }
    },
    "4_order_slicing": {
      "goal": "ุชูุณูู ุงูุฃูุฑ ุงููุจูุฑ ุฅูู ุดุฑุงุฆุญ ุตุบูุฑุฉ ุฐููุฉ.",
      "logic": {
        "split_by": "ุญุฌู ุงูุณูููุฉ ุฃู ุงูููุช",
        "formula": "price = mid_price ยฑ spread * aggressiveness",
        "params": {
          "spread": "best_ask - best_bid",
          "aggressiveness": "ูููุฉ ูู 0.2 ุฅูู 1.0 ุชุญุฏุฏ ูุฏู ูุฑุจ ุงูุณุนุฑ ูู ุงูุณูู"
        }
      },
      "example": {
        "total_volume": "100000 USDT",
        "slices": 20,
        "slice_size": "5000 USDT",
        "interval": "5-15 seconds"
      }
    },
    "5_order_submission": {
      "goal": "ุฅุฑุณุงู ุงูุทูุจุงุช ุฅูู MEXC ุจุฃูุงู ูุน ุถูุงู ุนุฏู ุงูุชูุฑุงุฑ.",
      "endpoint": "/api/v3/order",
      "method": "POST",
      "signing": "HMAC SHA256 ุจุงุณุชุฎุฏุงู API_SECRET",
      "payload_example": {
        "symbol": "BTCUSDT",
        "side": "BUY",
        "type": "LIMIT",
        "quantity": "0.01",
        "price": "67890.00",
        "timeInForce": "GTC",
        "clientOrderId": "agent-123456"
      },
      "idempotency_rule": "ูุง ุชูุฑุณู ููุณ ุงูุทูุจ ูุฑุชูู ูุจู ุงูุชุฃูุฏ ูู ุญุงูุชู ุนุจุฑ clientOrderId."
    },
    "6_order_monitoring": {
      "goal": "ูุฑุงูุจุฉ ุญุงูุฉ ูู ุดุฑูุญุฉ ูู ุงูุฃูุงูุฑ.",
      "methods": [
        "WebSocket listenKey stream ูุชุญุฏูุซุงุช ููุฑูุฉ.",
        "REST GET /api/v3/order ููุณุฎุฉ ุงุญุชูุงุทูุฉ."
      ],
      "status_handling": {
        "FILLED": "ุชู ุงูุชูููุฐ ุงููุงูู.",
        "PARTIALLY_FILLED": "ุงูุชุธุฑ ุฃู ุนุฏูู ุงูุณุนุฑ.",
        "CANCELED": "ุฃุนุฏ ุงูุฅุฑุณุงู ุจุณุนุฑ ุฌุฏูุฏ.",
        "REJECTED": "ุฑุงุฌุน ุงูุฅุนุฏุงุฏุงุช ุฃู ุงูุณูู."
      },
      "timeout_action": "ุฅุฐุง ูู ูููููุฐ ุฎูุงู 10 ุซูุงูู โ ุฅูุบุงุก ูุฅุนุงุฏุฉ ุชูุฏูู ุจุณุนุฑ ูุฎุชูู."
    },
    "7_rate_limit_and_retry": {
      "goal": "ุงูุชุญูู ูู ุงูุณุฑุนุฉ ูุงุญุชุฑุงู ูููุฏ MEXC.",
      "limits": {
        "REST": "ุญุชู 5 ุทูุจุงุช/ุซุงููุฉ ููู ุญุณุงุจ.",
        "WebSocket": "ุญุชู 100 ุฑุณุงูุฉ/ุซุงููุฉ ููู ุงุชุตุงู."
      },
      "errors": {
        "429": "ุชููู ูุคูุช (backoff) ุซู ุฅุนุงุฏุฉ ุงููุญุงููุฉ ุจุนุฏ ูุชุฑุฉ.",
        "5xx": "ุงุณุชุนูู ุนู ุญุงูุฉ ุงูุทูุจ ุฃููุงู ูุจู ุงูุฅุนุงุฏุฉ."
      }
    },
    "8_risk_control": {
      "goal": "ุญุณุงุจ ุงููููุฉ ุจูุงุกู ุนูู ุงููุฎุงุทุฑุฉ ุงูููุจููุฉ.",
      "formula": "position_size = (account_balance * risk%) / stop_loss_distance",
      "circuit_breaker": "ุฅููุงู ุงูุชูููุฐ ุฅุฐุง ุชุญุฑู ุงูุณุนุฑ ุฃูุซุฑ ูู 1% ุฃุซูุงุก ุงูุนูููุฉ."
    },
    "9_logging_and_reports": {
      "goal": "ุชูุซูู ูู ุนูููุฉ ุชูููุฐ ูุชุญููู ุงูุฃุฏุงุก.",
      "log_fields": [
        "clientOrderId",
        "symbol",
        "side",
        "price",
        "quantity",
        "status",
        "timestamp"
      ],
      "reports": [
        "ุฅุฌูุงูู ุงูุญุฌู ุงููููุฐ",
        "ูุชูุณุท ุณุนุฑ ุงูุชูููุฐ",
        "ูุณุจุฉ ุงูุงูุฒูุงู",
        "ุนุฏุฏ ุงูุฃูุงูุฑ ุงููุงุฌุญุฉ ูุงููุงุดูุฉ"
      ]
    },
    "10_adaptive_intelligence": {
      "goal": "ุชูููู ุงูุฐูุงุก ุงูุชูููู ูููููู.",
      "behaviors": [
        "ุชุณุฑูุน ุงูุชูููุฐ ุนูุฏ ุงูุฎูุงุถ ุงูุณูููุฉ.",
        "ุฅุจุทุงุก ุงูุชูููุฐ ุนูุฏ ุชููุจ ุงูุณูู.",
        "ุงูุชุญููู ูู Limit ุฅูู Market ูู ุงูุญุงูุงุช ุงูุทุงุฑุฆุฉ.",
        "ุฅููุงู ุงูุชูููุฐ ุนูุฏ ุชุฌุงูุฒ ูุณุชูู ุงูุฎุทุฑ."
      ]
    }
  },
  "output_expectations": {
    "summary": [
      "ููู ุณุฌู ุชูููุฐู ููุตู (Execution Log)",
      "ุชูุจููุงุช ูุญุธูุฉ ุนุจุฑ ุชูููุฌุฑุงู ุฃู ูุงุฌูุฉ ุงููุณุชุฎุฏู",
      "ูุคุดุฑุงุช ุฃุฏุงุก ูุซู ุงูุณุฑุนุฉ ูุงูุฏูุฉ ูุงูุงูุฒูุงู"
    ]
  }
}
 ุฃูุช ููุช:

INFO:mexc_trading_bot:๐ API Secret (ุฃูู 8 ุฃุญุฑู): cd479996...
INFO:mexc_trading_bot:โ ุงูุชูููุน ุงูููููุฏ: 3b46b3878afde969c222f1c49b3785480c1765b584230e1a2cb9863946d2399d
INFO:mexc_trading_bot:๐ ุงูุชูููุน ุงูููููุฏ: 3b46b3878afde969c222f1c49b3785480c1765b584230e1a2cb9863946d2399d
INFO:mexc_trading_bot:๐ ุงููุนุงููุงุช ุงูููุงุฆูุฉ: {'symbol': 'BTCUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': '0.000453', 'newClientOrderId': 'bot-1761276449816-baca2ccf', 'timestamp': 1761276449816, 'signature': '3b46b3878afde969c222f1c49b3785480c1765b584230e1a2cb9863946d2399d'}
INFO:mexc_trading_bot:๐ค ุทูุจ MEXC: POST /api/v3/order
INFO:mexc_trading_bot:๐ ุงูุฑุงุจุท ุงููุงูู: https://api.mexc.com/api/v3/order
INFO:mexc_trading_bot:๐ ุงููุนุงููุงุช ุงููุฑุณูุฉ: {'symbol': 'BTCUSDT', 'side': 'BUY', 'type': 'MARKET', 'quantity': '0.000453', 'newClientOrderId': 'bot-1761276449816-baca2ccf', 'timestamp': 1761276449816, 'signature': '3b46b3878afde969c222f1c49b3785480c1765b584230e1a2cb9863946d2399d'}
INFO:mexc_trading_bot:๐ ุงูุฑุงุจุท ุงูููุงุฆู: https://api.mexc.com/api/v3/order?symbol=BTCUSDT&side=BUY&type=MARKET&quantity=0.000453&newClientOrderId=bot-1761276449816-baca2ccf&timestamp=1761276449816&signature=3b46b3878afde969c222f1c49b3785480c1765b584230e1a2cb9863946d2399d
ERROR:mexc_trading_bot:ุฎุทุฃ ูู ุงุณุชุฌุงุจุฉ MEXC: 400
ERROR:mexc_trading_bot:ูุญุชูู ุงูุฎุทุฃ: {"code":700002,"msg":"Signature for this request is not valid."}
ERROR:mexc_trading_bot:ุฑุณุงูุฉ ุงูุฎุทุฃ ูู MEXC: Signature for this request is not valid.
ERROR:mexc_trading_bot:ููุฏ ุงูุฎุทุฃ ูู MEXC: 700002
INFO:mexc_trading_bot:๐ฅ ุงุณุชุฌุงุจุฉ MEXC API: None
ERROR:mexc_trading_bot:โ ูุดู ูู ูุถุน ุงูุฃูุฑ - ูู ูุชู ุฅุฑุฌุงุน ูุชูุฌุฉ ูู MEXC
ERROR:mexc_trading_bot:๐ ุงูุณุจุจ: _make_request ุนุงุฏ None
INFO:signal_executor:๐ค ูุชูุฌุฉ ูุถุน ุงูุฃูุฑ: None
ERROR:signal_executor:โ ูุดู ุชูููุฐ ุฃูุฑ BUY BTCUSDT ุนูู MEXC
ERROR:signal_executor:๐ ุงูุณุจุจ: place_spot_order ุนุงุฏ None
โ [SIGNAL EXECUTOR] ูุชูุฌุฉ ุงูุชูููุฐ: {'success': False, 'message': 'Failed to place order on MEXC - place_spot_order returned None', 'error': 'ORDER_FAILED'}